<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>YourStyleWardrobe | Wardrobe Planner</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    /* Basic Modal Styles */
    .modal {
      display: none; /* Hidden by default */
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background-color: #fff;
      padding: 1rem;
      border-radius: 6px;
      width: 80%;
      max-width: 400px;
      position: relative;
    }
    .close-btn {
      position: absolute;
      top: 8px; right: 8px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="logo">YourStyleWardrobe</div>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="wardrobe.html" style="opacity: 0.8;">Wardrobe Planner</a>
      <a href="outfit.html">Digital Closet</a>
    </div>
  </nav>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Sidebar Filters & Sort -->
    <div class="sidebar">
      <h3>Filters & Sort</h3>
      <!-- Filter Checkboxes -->
      <label>
        <input type="checkbox" class="filter-checkbox" data-category="Clothes" />
        Clothes
      </label>
      <label>
        <input type="checkbox" class="filter-checkbox" data-category="Shoes" />
        Shoes
      </label>
      <label>
        <input type="checkbox" class="filter-checkbox" data-category="Accessories" />
        Accessories
      </label>
      <hr />
      <!-- Sort by Date -->
      <label>
        <input type="checkbox" id="sort-date" />
        Sort by Date Added
      </label>
    </div>

    <!-- Wardrobe Content -->
    <div class="content">
      <h2>My Wardrobe Planner</h2>
      <div class="cards-container" id="wardrobeCards">
        <!-- Example Wardrobe Item 1 -->
        <div class="card" data-category="Clothes" data-date="2023-03-01">
          <img src="denim-jacket.jpg" alt="Blue denim jacket" />
          <div class="card-content">
            <h3>Denim Jacket</h3>
            <p>Casual, Red</p>
          </div>
        </div>
        <!-- Example Wardrobe Item 2 -->
        <div class="card" data-category="Shoes" data-date="2023-02-15">
          <img src="leather-boots.jpg" alt="Black leather boots" />
          <div class="card-content">
            <h3>Leather Boots</h3>
            <p>Formal, Black</p>
          </div>
        </div>
        <!-- Example Wardrobe Item 3 -->
        <div class="card" data-category="Clothes" data-date="2023-04-10">
          <img src="summer-dress.jpg" alt="Red floral summer dress" />
          <div class="card-content">
            <h3>Summer Dress</h3>
            <p>Casual, Red</p>
          </div>
        </div>
        <!-- Another Example Wardrobe Item (Accessories) -->
        <div class="card" data-category="Accessories" data-date="2023-01-20">
          <img src="accessories.jpg" alt="Fancy hat" />
          <div class="card-content">
            <h3>Fedora Hat</h3>
            <p>Stylish Accessory</p>
          </div>
        </div>
      </div>
      <button class="btn">Add Clothing</button>
      <button class="btn">Create Outfit</button>

      <!-- MVP Feature Placeholders (unchanged) -->
      <section class="upload-wardrobe" style="margin-top: 2rem;">
        <h3>Upload Wardrobe Photos</h3>
        <p>Upload photos of your clothing items to let our AI help categorize them.</p>
        <input type="file" multiple />
        <button class="btn">Upload</button>
      </section>
      <section class="daily-outfits" style="margin-top: 2rem;">
        <h3>AI-Recommended Outfits</h3>
        <p>Based on weather, trends, occasion, and personal style...</p>
        <div class="cards-container">
          <div class="card">
            <img src="office-elegance.jpg" alt="Suggested Outfit 1" />
            <div class="card-content">
              <h4>Office Ready</h4>
              <p>Tailored blazer, black slacks, neutral blouse.</p>
            </div>
          </div>
          <div class="card">
            <img src="casual-denim.jpg" alt="Suggested Outfit 2" />
            <div class="card-content">
              <h4>Sunny Day Casual</h4>
              <p>Light denim jacket, white tee, floral skirt.</p>
            </div>
          </div>
        </div>
        <button class="btn">Refresh Suggestions</button>
      </section>
      <section class="virtual-try-on" style="margin-top: 2rem;">
        <h3>Virtual Try-On (Preview)</h3>
        <p>See how items look together in our digital closet. (Coming Soon!)</p>
        <button class="btn">Launch Try-On</button>
      </section>
      <section class="shopping-suggestions" style="margin-top: 2rem;">
        <h3>Shopping Suggestions</h3>
        <p>Missing a matching piece? Check out these partner recommendations:</p>
        <div class="cards-container">
          <div class="card">
            <img src="accessories.jpg" alt="Suggested Accessory 1" />
            <div class="card-content">
              <h4>Classic Black Heels</h4>
              <p>Perfect for your formal outfits.</p>
              <button class="btn">Buy Now</button>
            </div>
          </div>
          <div class="card">
            <img src="accessories.jpg" alt="Suggested Accessory 2" />
            <div class="card-content">
              <h4>Trendy Fedora Hat</h4>
              <p>Add flair to your casual wear.</p>
              <button class="btn">Buy Now</button>
            </div>
          </div>
        </div>
      </section>
      <section class="fashion-insights" style="margin-top: 2rem;">
        <h3>Trend & Fashion Insights</h3>
        <p>AI-generated style advice based on the latest trends:</p>
        <ul style="list-style-type: disc; margin-left: 1.5rem;">
          <li>Bright pastels are in for spring.</li>
          <li>Wide-leg pants are making a comeback.</li>
          <li>Layering neutrals is a versatile approach.</li>
        </ul>
      </section>
    </div>
  </div>

  <!-- Modal for item details (Feature #3) -->
  <div id="itemModal" class="modal">
    <div class="modal-content" id="modalContent">
      <span class="close-btn" id="closeModal">&times;</span>
      <h3 id="modalTitle"></h3>
      <img id="modalImg" src="" alt="" style="width: 100%; margin-top: 1rem;" />
      <p id="modalDesc" style="margin-top: 1rem;"></p>
    </div>
  </div>

  <!-- Footer (unchanged) -->
  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#">Terms of Service</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Contact Us</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <p>Â© 2023 YourStyleWardrobe</p>
      </div>
    </div>
  </footer>

  <script>
    // Feature #1: Filtering & Sorting
    const filterCheckboxes = document.querySelectorAll('.filter-checkbox');
    const sortDateCheckbox = document.getElementById('sort-date');
    const wardrobeCards = document.getElementById('wardrobeCards');

    function applyFiltersAndSort() {
      // 1) Gather active filters
      const activeCategories = [];
      filterCheckboxes.forEach(cb => {
        if (cb.checked) {
          activeCategories.push(cb.getAttribute('data-category'));
        }
      });

      // 2) Convert NodeList to array for sorting
      let cardsArray = Array.from(wardrobeCards.querySelectorAll('.card'));

      // 3) Filter by category (if any checkboxes are selected)
      if (activeCategories.length > 0) {
        cardsArray = cardsArray.filter(card => {
          const cardCat = card.getAttribute('data-category');
          return activeCategories.includes(cardCat);
        });
      }

      // 4) Sort by date if checkbox is checked
      if (sortDateCheckbox.checked) {
        cardsArray.sort((a, b) => {
          // Compare data-date attributes
          const dateA = new Date(a.getAttribute('data-date'));
          const dateB = new Date(b.getAttribute('data-date'));
          // Newest first
          return dateB - dateA;
        });
      }

      // 5) Clear existing cards and re-append
      wardrobeCards.innerHTML = '';
      cardsArray.forEach(card => wardrobeCards.appendChild(card));
    }

    // Event listeners for filters and sort
    filterCheckboxes.forEach(cb => cb.addEventListener('change', applyFiltersAndSort));
    sortDateCheckbox.addEventListener('change', applyFiltersAndSort);

    // Feature #3: Pop-ups/Modals for item details
    const modal = document.getElementById('itemModal');
    const closeModalBtn = document.getElementById('closeModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalImg = document.getElementById('modalImg');
    const modalDesc = document.getElementById('modalDesc');

    // Open modal when card is clicked
    wardrobeCards.addEventListener('click', (e) => {
      const card = e.target.closest('.card');
      if (card) {
        // Grab info from the card
        const title = card.querySelector('h3').innerText;
        const imgSrc = card.querySelector('img').src;
        const desc = card.querySelector('p').innerText;

        modalTitle.innerText = title;
        modalImg.src = imgSrc;
        modalDesc.innerText = desc;
        modal.style.display = 'flex'; // Show modal
      }
    });

    // Close modal
    closeModalBtn.addEventListener('click', () => {
      modal.style.display = 'none';
    });
    // Also close if user clicks outside modal content
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });
  </script>
</body>
</html>
